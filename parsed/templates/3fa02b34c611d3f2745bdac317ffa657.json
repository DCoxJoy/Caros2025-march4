{"components/products/add-to-cart":"<div id=\"add-to-cart-wrapper\" {{#unless product.can_purchase}}style=\"display: none\"{{/unless}}>\n    {{#if theme_settings.show_product_quantity_box}}\n        <div class=\"form-field form-field--increments\">\n            <label class=\"form-label form-label--alternate\"\n                   for=\"qty[]\">{{lang 'products.quantity'}}</label>\n                <div class=\"form-increment joy-cart-custombtn\" data-quantity-change>\n                    \n                    <input class=\"form-input form-input--incrementTotal\"\n                           id=\"qty[]\"\n                           name=\"qty[]\"\n                           type=\"tel\"\n                           value=\"{{#if product.min_purchase_quantity}}{{product.min_purchase_quantity}}{{else}}1{{/if}}\"\n                           data-quantity-min=\"{{product.min_purchase_quantity}}\"\n                           data-quantity-max=\"{{product.max_purchase_quantity}}\"\n                           min=\"1\"\n                           pattern=\"[0-9]*\"\n                           aria-live=\"polite\">\n\n                    <div class=\"increment-wrapper\"> \n                        <button class=\"button button--icon\" data-action=\"inc\">\n                            <span class=\"is-srOnly\">{{lang 'products.quantity_increase'}}</span>\n                            <i class=\"icon\" aria-hidden=\"true\">\n                                <svg>\n                                    <use xlink:href=\"#icon-keyboard-arrow-up\"/>\n                                </svg>\n                            </i>\n                        </button>\n                        <button class=\"button button--icon\" data-action=\"dec\">\n                            <span class=\"is-srOnly\">{{lang 'products.quantity_decrease'}}</span>\n                            <i class=\"icon\" aria-hidden=\"true\">\n                                <svg>\n                                    <use xlink:href=\"#icon-keyboard-arrow-down\"/>\n                                </svg>\n                            </i>\n                        </button> \n                    </div>\n                </div>\n        </div>\n    {{/if}}\n\n    <div class=\"alertBox productAttributes-message\" style=\"display:none\">\n        <div class=\"alertBox-column alertBox-icon\">\n            <icon glyph=\"ic-success\" class=\"icon\" aria-hidden=\"true\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z\"></path></svg></icon>\n        </div>\n        <p class=\"alertBox-column alertBox-message\"></p>\n    </div>\n    <div class=\"form-actionFix comment\">\n\n        {{{snippet 'product_addtocart'}}}\n\n        \n        {{#if settings.show_wishlist}}\n            <div class=\"card-wishlist\" data-wishlist-add>\n                <button class=\"js-wishlist button dropdown-menu-button\" data-id=\"{{product.id}}\" aria-label=\"Wishlist\">\n                    <span>{{lang 'account.wishlists.add_item'}}</span>\n                    <i aria-hidden=\"true\" class=\"icon\">\n                        <svg>\n                            <use xlink:href=\"#icon-keyboard-arrow-down\" />\n                        </svg>\n                    </i>\n                </button>\n                <ul class=\"wishlist-menu has-loading haloCustomScrollbar animated--out\" data-halo-animate=\"1\">\n                    <li class=\"wishlist-item\">\n                        <a href=\"/wishlist.php?action=addwishlist&product_id={{product.id}}\">\n                            <span>{{lang \"account.wishlists.create_new\"}}</span>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        {{/if}}\n    </div>\n</div>\n\n<div class=\"joy_product_actions_btns_wrapper\">\n\n    {{#or customer (if theme_settings.restrict_to_login '!==' true)}}\n        <div class=\"joy-add-to-cart-btn\"> \n            <div class=\"form-action\">\n                <input id=\"form-action-addToCart\" data-wait-message=\"{{lang 'products.adding_to_cart'}}\" class=\"button button--primary\" type=\"submit\"\n                    value=\"{{#if product.pre_order}}{{lang 'products.pre_order'}}{{else}}{{lang 'products.add_to_cart'}}{{/if}}\" {{#if product.can_purchase}}{{else}}disabled {{/if}}>\n            </div>      \n        </div> \n    {{/or}}\n\n\n    {{#or customer (unless settings.hide_price_from_guests)}}\n        {{#if theme_settings.halo_buy_it_now}}\n            <div class=\"productView-actions productView-actions--buyItNow\">\n                <div class=\"form-action form-action--buyItNow\">\n                    <input id=\"form-action-buyItNow\" data-wait-message=\"{{lang 'products.adding_to_cart'}}\" class=\"button button--primary button--buyItNow\" type=\"submit\"\n                    value=\"{{lang 'products.buy_it_now'}}\">\n                </div>\n            </div>\n        {{/if}}\n    {{/or}}\n    {{#or customer (unless settings.hide_price_from_guests)}}\n        {{#if wallet_buttons}}\n            <div class=\"add-to-cart-wallet-buttons your-class-for-wallet-buttons-list\" data-add-to-cart-wallet-buttons>\n                {{{wallet_buttons}}}\n            </div>\n            <script type=\"text/javascript\">\n                function updateProductDetailsData(form) {\n                    const productDetails = {};\n                    const formData = new FormData(form);\n            \n                    for (const [fieldName, fieldValue] of formData) {\n                        if (fieldName === 'product_id') {\n                            productDetails.productId = Number(fieldValue);\n                        }\n            \n                        if (fieldName === 'qty[]') {\n                            productDetails.quantity = Number(fieldValue);\n                        }\n            \n                        if (fieldName.match(/attribute/)) {\n                        const productOption = {\n                            optionId: Number(fieldName.match(/\\d+/g)[0]),\n                            optionValue: fieldValue,\n                        };\n            \n                        productDetails.optionSelections = productDetails?.optionSelections\n                            ? [...productDetails.optionSelections, productOption]\n                            : [productOption];\n                        }\n                    }\n            \n                    document.dispatchEvent(new CustomEvent('onProductUpdate', {\n                        bubbles: true,\n                        detail: { productDetails },\n                    }));\n                }\n            \n                function resetProductDetailsData() {\n                    const productDetails = {};\n            \n                    document.dispatchEvent(new CustomEvent('onProductUpdate', {\n                        bubbles: true,\n                        detail: { productDetails },\n                    }));\n                }\n            \n                function init() {\n                    const form = document.querySelector('form[data-cart-item-add]');\n                    const submitButton = form.querySelector('input[type=\"submit\"]');\n                    const walletButtonsContainer = document.querySelector('[data-add-to-cart-wallet-buttons]');\n            \n                    if (!walletButtonsContainer) {\n                        return;\n                    }\n            \n                    const submitObserver = new MutationObserver(((mutations) => {\n                        mutations.forEach((mutation) => {\n                        if (mutation.type === 'attributes') {\n                            if (!mutation.target.disabled && form.checkValidity()) {\n                                walletButtonsContainer.style.display = 'block';\n                                updateProductDetailsData(form);\n                            } else {\n                                walletButtonsContainer.style.display = 'none';\n                                resetProductDetailsData();\n                            }\n                        }\n                        });\n                    }));\n            \n                    submitObserver.observe(submitButton, { attributes: true });\n            \n                    form.addEventListener('click', () => {\n                        setTimeout(() => updateProductDetailsData(form), 0);\n                    });\n            \n                    form.addEventListener('change', () => {\n                        if (form.checkValidity() && !submitButton.disabled) {\n                            walletButtonsContainer.style.display = 'block';\n                            updateProductDetailsData(form);\n                        } else {\n                            walletButtonsContainer.style.display = 'none';\n                            resetProductDetailsData();\n                        }\n                    });\n            \n                    form.addEventListener('touchend', () => {\n                        setTimeout(() => updateProductDetailsData(form), 0);\n                    });\n            \n                    form.addEventListener('keyup', () => updateProductDetailsData(form));\n            \n                    if (form.checkValidity() && !submitButton.disabled) {\n                        updateProductDetailsData(form);\n                    } else {\n                        walletButtonsContainer.style.display = 'none';\n                        resetProductDetailsData();\n                    }\n                }\n                init();\n            </script>\n        {{/if}}\n    {{/or}}\n</div>\n"}
